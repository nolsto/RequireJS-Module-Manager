<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Mocha Tests</title>
  <link rel="stylesheet" href="styles/vendor/mocha.css" />
  <script data-main="scripts/app/config" src="scripts/vendor/require-2.1.1.js"></script>
  <script>
    requirejs.config({
      baseUrl: './scripts/app',
      paths: {
        // aliases
        'templates': '../../templates/app',
        // vendor libraries
        'require': '../vendor/require-2.1.1',
        'chaplin': '../vendor/chaplin-1.0.0-pre-c2dc4ce',
        'jquery': '../vendor/jquery-1.8.2',
        'underscore': '../vendor/underscore-1.4.2',
        'backbone': '../vendor/backbone-0.9.2',
        'backbone-relational': '../vendor/backbone-relational-0.6.0',
        'handlebars': '../vendor/handlebars-1.0.rc.1',
        'videojs': '../vendor/video-3.2.0',
        // require.js plugins
        'text': '../vendor/require-text-2.0.3',
        // test framework
        'mocha': '../vendor/mocha-1.7.0',
        'chai': '../vendor/chai-1.3.0'
      },
      shim: {
        'backbone': {
          deps: ['jquery', 'underscore'],
          exports: 'Backbone'
        },
        'underscore': {
          exports: '_'
        },
        'backbone-relational': {
          deps: ['backbone']
        },
        'handlebars': {
          exports: 'Handlebars'
        }
      }
    });

    require(['require', 'chai', 'mocha'], function(require, chai) {
      console.log(window);
      window.expect = chai.expect;
      mocha.setup('bdd');

      require(['tests'], function() {
        mocha.run();
      });
    });
  </script>
</head>
<body>
  <div id="mocha"></div>
</body>
</html>
